{% block scripts %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const modal = document.getElementById("editModal");
    const editId = document.getElementById("edit_id");
    const editName = document.getElementById("edit_name");
    const editAddress = document.getElementById("edit_address");
    const editTel = document.getElementById("edit_tel");
    const editFax = document.getElementById("edit_fax");
    const editCategory = document.getElementById("edit_category");
    const editDescription = document.getElementById("edit_description");

    document.querySelectorAll(".edit-btn").forEach(btn => {
      btn.addEventListener("click", function () {
        editId.value = this.dataset.id;
        editName.value = this.dataset.name;
        editAddress.value = this.dataset.address;
        editTel.value = this.dataset.tel;
        editFax.value = this.dataset.fax;
        editCategory.value = this.dataset.category;
        editDescription.value = this.dataset.description;
      });
    });

    // モーダルが閉じられた時にフォームをリセット（backdropトラブル防止）
    modal.addEventListener("hidden.bs.modal", function () {
      modal.querySelector("form").reset();
    });
  });
</script>
{% endblock %}
